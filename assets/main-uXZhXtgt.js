(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const u=document.querySelector("#copyCountValue"),f=e=>{if(e){const t=e.querySelector("#serviceNumber").textContent;alert(`Number has been copied: ${t}`),navigator.clipboard.writeText(t);let o=parseInt(u.textContent);return u.textContent=++o,!0}return!1},m=document.querySelector("#heartIconClickValue"),v=()=>{let e=parseInt(m.textContent);return m.textContent=++e,e},S=()=>new Date().toLocaleTimeString("en-BD",{hour12:!0}),l=()=>{const e=JSON.parse(localStorage.getItem("emergencyCallHistory"));return e||[]},N=document.querySelector("#historyContainer"),C=document.querySelector("#historyTemplate"),g=e=>{if(Array.isArray(e)===!1)throw new TypeError("This is not an array. Give a valid array !!");return e.length>0?(e.forEach(t=>{const o=document.importNode(C.content,!0),{id:a,serviceName:r,phone:n,time:i}=t;o.querySelector("#historyValue").setAttribute("id",`history${a}`),o.querySelector("#history--heading").textContent=r,o.querySelector("#history--service-number").textContent=n,o.querySelector("#history--time").textContent=i,N.append(o)}),!0):!1},w=(e,t,o)=>{if(e){const a=l();let r=a.length+1;const n=S(),i={id:r,serviceName:t,phone:o,time:n};return a.push(i),localStorage.setItem("emergencyCallHistory",JSON.stringify(a)),g([i]),!0}return!1},d=document.querySelector("#coinWallet"),x=e=>{if(e){let t=parseInt(d.textContent);if(t<20)alert("❌ You don't have enough coins !! It takes at least 20 coins to make a call.");else{const o=e.querySelector("#cardHeading").textContent,a=e.querySelector("#serviceNumber").textContent;alert(`📞 ${o} ${a}...`),d.textContent=t-20,w(e,o,a)}}},q=(e,t,o)=>{if(e.target.id==="cardHeartIcon")return v(),!0;e.target.id==="cardCallBtn"?x(o):e.target.id==="cardCopyBtn"&&f(o)},H=document.querySelector("#serviceContainer"),b=document.querySelector("#serviceTemplate"),L=e=>{if(Array.isArray(e)===!1)throw new TypeError("This is not an array. Give a valid array !!");e.forEach(t=>{const{id:o,fullName:a,shortName:r,phone:n,category:i,image:p}=t,s=document.importNode(b.content,!0);if(s){const c=s.querySelector("#cardValue");return c.setAttribute("id",`card${o}`),c.addEventListener("click",h=>{q(h,o,c)}),s.querySelector("#cardImage").src=p,s.querySelector("#cardImage").alt=r+" icon",s.querySelector("#cardHeading").textContent=a,s.querySelector("#cardSubheading").textContent=r,s.querySelector("#serviceNumber").textContent=n,s.querySelector("#serviceCategory").textContent=i,H.append(s),!0}return!1})},T=[{id:1,fullName:"National Emergency Service",shortName:"National Emergency",phone:"999",category:"All",image:"./images/emergency.png"},{id:2,fullName:"Police Helpline Number",shortName:"Police",phone:"999",category:"Police",image:"./images/police.png"},{id:3,fullName:"Bangladesh Fire Service",shortName:"Fire Service",phone:"999",category:"Fire",image:"./images/fire-service.png"},{id:4,fullName:"Ambulance Service",shortName:"Ambulance",phone:"1994-999999",category:"Health",image:"./images/ambulance.png"},{id:5,fullName:"Women & Child Support",shortName:"Women and Child",phone:"109",category:"Help",image:"./images/women.png"},{id:6,fullName:"Anti-Corruption Commission",shortName:"Anti-Corruption",phone:"106",category:"Govt",image:"./images/dudok.png"},{id:7,fullName:"Electricity Helpline",shortName:"Electricity Outage",phone:"16216",category:"Electricity",image:"./images/electricity.png"},{id:8,fullName:"Brac Helpline",shortName:"Brac",phone:"16445",category:"NGO",image:"./images/brac.png"},{id:9,fullName:"Bangladesh Railway Helpline ",shortName:"Bangladesh Railway",phone:"163",category:"Travel",image:"./images/Bangladesh-Railway.png"}],A=document.querySelector("#bodySection"),k=()=>{const e=l(),t=document.createElement("div");t.className="translate-x-full opacity-0 flex justify-end mt-8",e.length>0?t.innerHTML=`
        <div role="alert" class="alert alert-success w-[100%] mx-6 sm:mx-0 sm:w-[50%] sm:mr-12">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>Successfully Deleted All History!</span>
        </div>
    `:t.innerHTML=`
            <div role="alert" class="alert alert-warning w-[100%] mx-6 sm:mx-0 sm:w-[50%] sm:mr-12">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                <span>No history available to delete!</span>
            </div>
        `,A.prepend(t),requestAnimationFrame(()=>{t.classList.remove("translate-x-full","opacity-0"),t.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{t.classList.remove("translate-x-0","opacity-100"),t.classList.add("opacity-0","-translate-x-full"),setTimeout(()=>{t.remove()},500)},2500)},y=document.querySelector("#historyContainer"),I=()=>y?(y.innerHTML="",k(),localStorage.removeItem("emergencyCallHistory"),!0):!1,B=document.querySelector("#historyClearBtn");B.addEventListener("click",I);const E=l();L(T);g(E);
